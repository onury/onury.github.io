
<html><head></head><body><h1 id="geolocator-v2">Geolocator v2</h1>
<hr />
<p><a href="https://cdnjs.com/libraries/geolocator"><img src="https://img.shields.io/cdnjs/v/geolocator.svg" alt="CDNJS"></a>
<img src="https://img.shields.io/bower/v/geolocator.svg" alt="bower">
<img src="https://img.shields.io/npm/v/geolocator.svg" alt="npm">
<img src="https://img.shields.io/github/release/onury/geolocator.svg" alt="release">
<a href="https://codeclimate.com/github/onury/geolocator"><img src="https://codeclimate.com/github/onury/geolocator/badges/gpa.svg" alt="Code Climate"></a>
<img src="http://img.shields.io/npm/l/perfy.svg" alt="license">
<img src="https://img.shields.io/maintenance/yes/2017.svg" alt="maintained">  </p>
<blockquote>
<p>© 2017, Onur Yıldırım (@onury)
MIT License. Please see the <a href="https://github.com/onury/geolocator/blob/master/LICENSE">Disclaimer and License</a>.</p>
</blockquote>
<p>Geolocator.js is a utility for getting geo-location information, geocoding, address look-ups, distance &amp; durations, timezone information and more...</p>
<h2 id="features">Features</h2>
<ul>
<li>HTML5 geolocation (by user permission) with <strong>improved accuracy</strong>.</li>
<li>Location by IP</li>
<li>Reverse Geocoding (address lookup)</li>
<li>Full address information (street, town, neighborhood, region, country, country code, postal code, etc...)</li>
<li>Fallback mechanism (from HTML5-geolocation to Geo-IP lookup)</li>
<li>Watch geographic position</li>
<li>Locate by mobile information</li>
<li>Get timezone information</li>
<li>Get distance matrix and duration information</li>
<li>Calculate distance between two geographic points</li>
<li>Various geographic conversion utilities</li>
<li>Get client IP</li>
<li>Fetched location includes country flag image (SVG) URL</li>
<li>Language support (depends on the service provider)</li>
<li>Supports Google Loader (loads Google APIs dynamically)</li>
<li>Dynamically create Google Maps, <strong>on demand</strong> (with marker, info window, auto-adjusted zoom)</li>
<li><strong>NEW</strong>: Get static Google Map (image) URL for a location</li>
<li>Non-blocking script loading (external sources are loaded on the fly without interrupting page load)</li>
<li>No library/framework dependencies (such as jQuery, etc...)</li>
<li>Universal module (CommonJS/AMD..)</li>
<li>Small file size (9KB minified, gzipped)</li>
<li>Browser Support: IE 9+, Chrome, Safari, Firefox, Opera...</li>
</ul>
<p>See a <a href="https://onury.github.io/geolocator/?content=examples"><strong>Live Demo</strong></a>.</p>
<h2 id="get-geolocator-js">Get Geolocator.js</h2>
<p>Link or download via <a href="https://cdnjs.com/libraries/geolocator"><strong>CDNJS</strong></a>.  </p>
<p>Download full source code from <a href="https://github.com/onury/geolocator/releases">GitHub releases</a>.  </p>
<p>Install via <strong>Bower</strong>:</p>
<pre><code>bower install geolocator
</code></pre><p>Install via <strong>NPM</strong>:</p>
<pre><code>npm install geolocator
</code></pre><h2 id="usage-">Usage:</h2>
<p>Example below, will attempt to get user's geo-location via HTML5 Geolocation and if user rejects, it will fallback to IP based geo-location.</p>
<p>Inside the <code>&lt;head&gt;</code> of your HTML:</p>
<pre><code class="lang-html">&lt;script type="text/javascript" src="geolocator.min.js"&gt;&lt;/script&gt;
&lt;script type="text/javascript"&gt;

    geolocator.config({
        language: "en",
        google: {
            version: "3",
            key: "YOUR-GOOGLE-API-KEY"
        }
    });

    window.onload = function () {
        var options = {
            enableHighAccuracy: true,
            timeout: 5000,
            maximumWait: 10000,     // max wait time for desired accuracy
            maximumAge: 0,          // disable cache
            desiredAccuracy: 30,    // meters
            fallbackToIP: true,     // fallback to IP if Geolocation fails or rejected
            addressLookup: true,    // requires Google API key if true
            timezone: true,         // requires Google API key if true
            map: "map-canvas",      // interactive map element id (or options object)
            staticMap: true         // map image URL (boolean or options object)
        };
        geolocator.locate(options, function (err, location) {
            if (err) return console.log(err);
            console.log(location);
        });
    };

&lt;/script&gt;
</code></pre>
<p>If you've enabled <code>map</code> option; include the following, inside the <code>&lt;body&gt;</code> of your HTML:</p>
<pre><code class="lang-html">&lt;div id="map-canvas" style="width:600px;height:400px"&gt;&lt;/div&gt;
</code></pre>
<p>Read <a href="https://onury.github.io/geolocator/?api=geolocator"><strong>API documentation</strong></a> for lots of other features and examples.</p>
<h2 id="important-notes">Important Notes</h2>
<ul>
<li>Since Geolocation API is an HTML5 feature, make sure your <code>doctype</code> is HTML5 (e.g. <code>&lt;!DOCTYPE html&gt;</code>).</li>
<li>Make sure you're calling Geolocation APIs (such as <code>geolocator.locate()</code> and <code>geolocator.watch()</code>) from a secure origin (i.e. an <strong>HTTPS</strong> page). In Chrome 50, Geolocation API is <a href="https://developers.google.com/web/updates/2016/04/geolocation-on-secure-contexts-only?hl=en">removed</a> from <strong>unsecured origins</strong>. Other browsers are expected to follow.</li>
<li>Although some calls might work without a key, it is generally required by most Google APIs (such as Time Zone API). To get a free (or premium) key, <a href="https://developers.google.com/maps/documentation/javascript">click here</a>. After getting a key, you can enable multiple APIs for it. Make sure you <a href="https://console.developers.google.com">enable</a> all the APIs supported by Geolocator. <em>(If you don't have a key, you can still use Geolocator like the previous versions, but with limited features.)</em></li>
<li>Geolocator now supports a single Geo-IP provider, FreeGeoIP. You can use <code>geolcoator.setGeoIPSource()</code> method to set a different Geo-IP source.</li>
<li><strike>On Firefox, callback is not fired for Geolocation, if user clicks "Not Now" instead of "Never".</strike> This is now fixed in Firefox version 53 with the new permission prompt redesign. (See bugzilla <a href="https://bugzilla.mozilla.org/show_bug.cgi?id=675533">675533</a>.)</li>
</ul>
<h2 id="under-the-hood">Under the Hood</h2>
<p>Geolocator v2 is written in ES2015 (ES6), compiled with <a href="https://github.com/babel/babel">Babel</a>, bundled with <a href="https://github.com/webpack/webpack">Webpack</a> and documented with <a href="https://github.com/onury/docma">Docma</a>.</p>
<h2 id="change-log">Change Log</h2>
<p>See version changes <a href="https://onury.github.io/geolocator/?content=changelog">here</a>.</p>
<h2 id="license">License</h2>
<p>MIT. See the <a href="https://github.com/onury/geolocator/blob/master/LICENSE">Disclaimer and License</a>.</p>
</body></html>