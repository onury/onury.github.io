
<html><head></head><body><h1 id="geolocator-v2">Geolocator v2</h1>
<hr />
<p><img src="https://img.shields.io/bower/v/geolocator.svg" alt="bower">
<img src="https://img.shields.io/npm/v/geolocator.svg" alt="npm">
<img src="https://img.shields.io/github/release/onury/geolocator.svg" alt="release">
<img src="http://img.shields.io/npm/l/perfy.svg" alt="license">  </p>
<blockquote>
<p>© 2016, Onur Yıldırım (@onury)
MIT License. Please see the <a href="https://github.com/onury/geolocator/blob/master/LICENSE">Disclaimer and License</a>.</p>
</blockquote>
<p>Geolocator.js is a utility for getting geo-location information, geocoding, address look-ups, distance &amp; durations, timezone information and more...</p>
<h2 id="features">Features</h2>
<ul>
<li>HTML5 geolocation (by user permission)</li>
<li>Location by IP (Supported source services: FreeGeoIP, GeoPlugin, WikiMedia)</li>
<li>Reverse Geocoding (address lookup)</li>
<li>Full address information (street, town, neighborhood, region, country, country code, postal code, etc...)</li>
<li>Fallback mechanism (from HTML5-geolocation to IP-geo lookup)</li>
<li><strong>NEW</strong>: Watch geo-location</li>
<li><strong>NEW</strong>: Locate by mobile information</li>
<li><strong>NEW</strong>: Get timezone information</li>
<li><strong>NEW</strong>: Get distance matrix and duration information</li>
<li><strong>NEW</strong>: Calculate distance between two geographic points</li>
<li><strong>NEW</strong>: Various geographic conversion utilities</li>
<li><strong>NEW</strong>: Get client IP</li>
<li>Supports Google Loader (loads Google Maps dynamically)</li>
<li>Dynamically creates Google Maps, <strong>on demand</strong> (with marker, info window, auto-adjusted zoom)</li>
<li>Non-blocking script loading (external sources are loaded on the fly without interrupting page load)</li>
<li>No library/framework dependencies (such as jQuery, etc...)</li>
<li><strong>NEW</strong>: Universal module (CommonJS/Node/AMD..)</li>
<li>Small file size (less than 9KB minified, gzipped)</li>
<li>Browser Support: IE 9+, Chrome, Safari, Firefox, Opera...</li>
</ul>
<h3 id="breaking-changes">Breaking Changes</h3>
<p>If you're migrating from v1.x to v2, you should consider the following changes:</p>
<ul>
<li>Geolocator <strong>v2</strong> is completely re-written from scratch; adding more features to it while keeping and improving the existing ones. So almost everything has changed, for good.</li>
<li>The most significant change is; we've got rid of separate callbacks for error and success. Now, we have Node-style, single callback for each async method; with <code>err</code> as the first argument. If it's a success, <code>err</code> will be <code>null</code>.</li>
<li>Most features make use of Google APIs. So you'll need a (single) Google API key to use them all.</li>
<li><code>.location</code> property is dropped. You can always access the result, via the second argument of each async method's callback.</li>
<li>Read the <a href="https://onury.github.io/geolocator/?api=geolocator">API documentation</a> for details...</li>
</ul>
<h2 id="installation">Installation</h2>
<p>Install via <strong>Bower</strong>:</p>
<pre><code>bower install geolocator
</code></pre><p>Install via <strong>NPM</strong>:</p>
<pre><code>npm install geolocator
</code></pre><p><em>If somehow you need the legacy version v1.2.9 and don't need the better. <a href="https://github.com/onury/geolocator/releases/tag/v1.2.9">Here</a> it is.</em></p>
<h2 id="usage-">Usage:</h2>
<p>We'll try to get user's geo-location via HTML5 Geolocation and if user rejects, we'll fallback to IP based geo-location.</p>
<p>Inside the <code>&lt;head&gt;</code> of your HTML:</p>
<pre><code class="lang-html">&lt;script type="text/javascript" src="geolocator.min.js"&gt;&lt;/script&gt;
&lt;script type="text/javascript"&gt;

    geolocator.config({
        language: 'en',
        google: {
            key: 'YOUR-GOOGLE-API-KEY'
        }
    });

    window.onload = function () {
        var options = {
            enableHighAccuracy: true,
            timeout: 6000,
            maximumAge: 0,
            considerIp: true, // fallback to IP if Geolocation fails or rejected
            addressLookup: false, // requires Google API key
            timezone: false // requires Google API key
        };
        geolocator.locate(options, function (err, location) {
            if (err) return console.log(err);
            console.log(location);
        });
    };

&lt;/script&gt;
</code></pre>
<p>Read <a href="https://onury.github.io/geolocator/?api=geolocator"><strong>API documentation</strong></a> for more features and examples.</p>
<h2 id="important-notes">Important Notes</h2>
<ul>
<li>Since Geolocation API is an HTML5 feature, make sure your <code>doctype</code> is HTML5 (e.g. <code>&lt;!DOCTYPE html&gt;</code>).</li>
<li>Make sure you're calling Geolocation APIs (such as <code>geolocator.locate()</code> and <code>geolocator.watch()</code>) from a secure origin (i.e. an <strong>HTTPS</strong> page). In Chrome 50, Geolocation API is <a href="https://developers.google.com/web/updates/2016/04/geolocation-on-secure-contexts-only?hl=en">removed</a> from <strong>unsecured origins</strong>. Other browsers are expected to follow.</li>
<li>Although some calls might work without a key, it is generally required by most Goolge APIs (such as Time Zone API). To get a free (or premium) key, <a href="https://developers.google.com/maps/documentation/javascript">click here</a>. After getting a key, you can enable multiple APIs for it. Make sure you <a href="https://console.developers.google.com">enable</a> all the APIs supported by Geolocator.</li>
<li>On Firefox, callback is not fired for Geolocation, if user clicks "Not Now" instead of "Never". (bug <a href="https://bugzilla.mozilla.org/show_bug.cgi?id=675533">675533</a>).</li>
</ul>
<h2 id="under-the-hood">Under the Hood</h2>
<p>Geolocator v2 is written in ES2015 (ES6), compiled with <a href="https://github.com/babel/babel">Babel</a>, bundled with <a href="https://github.com/webpack/webpack">Webpack</a> and documented with <a href="https://github.com/onury/docma">Docma</a>.</p>
<h2 id="license">License</h2>
<p>MIT. See the <a href="https://github.com/onury/geolocator/blob/master/LICENSE">Disclaimer and License</a>.</p>
</body></html>